---
// src/components/ui/Card.astro

interface Props {
  href?: string;
  class?: string;
  isTarget?: boolean;
  style?: string; // ★追加: styleを受け取れるようにする
}

const { href, class: className, isTarget = false, style } = Astro.props;

const Tag = href ? 'a' : 'div';
const targetAttr = href && isTarget ? '_blank' : undefined;
const relAttr = href && isTarget ? 'noreferrer' : undefined;
---

<Tag href={href} class:list={['c-card', className]} target={targetAttr} rel={relAttr} style={style}>
  <slot />
</Tag>

<style lang="scss">
  @use '@/styles/config' as *;

  @layer component {
    .c-card {
      position: relative;
      display: flex;
      flex-direction: column;
      width: 100%;
      height: 100%;
      padding: 24px;
      background-color: $color-item;
      border: 1px solid $color-border;
      border-radius: $radius-lg;

      &[href] {
        cursor: pointer;
      }
    }
  }
</style>
